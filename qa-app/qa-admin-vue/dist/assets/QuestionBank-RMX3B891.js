import{f as n,k as _,c as i,o as u,a as t,e as w,t as a,q as v,v as Q,y as b,F as B,d as j,n as f,h as k}from"./index-CB-r-hGr.js";const U={class:"flex items-center justify-between mb-6"},D={class:"grid grid-cols-5 gap-6 mb-6"},P={class:"bg-white rounded-xl shadow-sm p-5"},z={class:"flex items-center justify-between"},F={class:"text-2xl font-bold text-gray-800 mt-1"},I={class:"bg-white rounded-xl shadow-sm p-5"},R={class:"flex items-center justify-between"},E={class:"text-2xl font-bold text-gray-800 mt-1"},H={class:"bg-white rounded-xl shadow-sm p-5"},J={class:"flex items-center justify-between"},G={class:"text-2xl font-bold text-gray-800 mt-1"},K={class:"bg-white rounded-xl shadow-sm p-5"},O={class:"flex items-center justify-between"},W={class:"text-2xl font-bold text-red-500 mt-1"},X={class:"bg-white rounded-xl shadow-sm p-5"},Y={class:"flex items-center justify-between"},Z={class:"text-2xl font-bold text-gray-800 mt-1"},tt={class:"bg-white rounded-xl shadow-sm p-4 mb-6"},et={class:"flex items-center gap-4"},st={class:"flex-1"},ot={class:"relative"},at={class:"bg-white rounded-xl shadow-sm overflow-hidden"},lt={class:"w-full"},nt={class:"divide-y divide-gray-200"},rt={class:"px-6 py-4"},dt={class:"flex items-center"},it={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center text-white font-bold"},ut={class:"ml-3"},pt={class:"font-medium text-gray-800"},ct={class:"text-xs text-gray-500"},xt={class:"px-6 py-4"},gt={class:"px-6 py-4"},yt={class:"text-sm text-gray-800"},vt={class:"text-xs text-gray-500"},ft={class:"px-6 py-4"},mt={class:"text-sm font-medium text-gray-800"},ht={class:"px-6 py-4"},bt={class:"text-sm text-gray-800"},Ct={class:"px-6 py-4"},_t={class:"px-6 py-4 text-sm text-gray-500"},wt={class:"px-6 py-4"},Bt={class:"flex items-center gap-2"},jt=["onClick"],kt=["onClick"],$t=["onClick"],At=["onClick"],qt=["onClick"],St={class:"flex items-center justify-between mt-6"},Vt={class:"text-sm text-gray-500"},Tt={class:"flex gap-2"},Lt=["disabled"],Mt=["onClick"],Nt=["disabled"],Dt={__name:"QuestionBank",setup(Qt){const l=n({totalBanks:127,platformBanks:45,userBanks:82,pendingBanks:15,totalQuestions:3580}),p=n(""),c=n(""),x=n(""),g=n(""),r=n(1),m=n(10),h=n([{id:1,name:"React Native基础知识",type:"platform",mainCategory:"行业",subCategory:"互联网",questionCount:50,author:"平台管理员",status:"approved",createdAt:"2026-01-20 10:30"},{id:2,name:"JavaScript高级特性",type:"platform",mainCategory:"行业",subCategory:"互联网",questionCount:40,author:"平台管理员",status:"approved",createdAt:"2026-01-18 14:20"},{id:3,name:"React Hooks实战",type:"platform",mainCategory:"行业",subCategory:"互联网",questionCount:35,author:"平台管理员",status:"approved",createdAt:"2026-01-15 09:15"},{id:4,name:"TypeScript入门",type:"platform",mainCategory:"行业",subCategory:"互联网",questionCount:45,author:"平台管理员",status:"approved",createdAt:"2026-01-12 16:45"},{id:5,name:"Node.js后端开发",type:"user",mainCategory:"行业",subCategory:"互联网",questionCount:30,author:"张三",status:"approved",createdAt:"2026-01-25 11:20"},{id:6,name:"CSS布局技巧",type:"user",mainCategory:"个人",subCategory:"职业发展",questionCount:25,author:"李四",status:"pending",createdAt:"2026-01-28 15:30"},{id:7,name:"Python数据分析",type:"user",mainCategory:"个人",subCategory:"兴趣爱好",questionCount:20,author:"王五",status:"approved",createdAt:"2026-01-22 13:10"},{id:8,name:"中国历史知识",type:"platform",mainCategory:"国家",subCategory:"历史",questionCount:60,author:"平台管理员",status:"approved",createdAt:"2026-01-10 10:00"},{id:9,name:"法律基础知识",type:"platform",mainCategory:"国家",subCategory:"法律",questionCount:55,author:"平台管理员",status:"approved",createdAt:"2026-01-08 14:30"},{id:10,name:"金融行业知识",type:"user",mainCategory:"行业",subCategory:"金融",questionCount:40,author:"赵六",status:"pending",createdAt:"2026-01-29 09:45"}]),y=_(()=>h.value.filter(o=>{const e=!p.value||o.name.toLowerCase().includes(p.value.toLowerCase())||o.author.toLowerCase().includes(p.value.toLowerCase()),s=!c.value||o.type===c.value,d=!x.value||o.mainCategory===x.value,N=!g.value||o.status===g.value;return e&&s&&d&&N})),C=_(()=>Math.ceil(y.value.length/m.value)),$=o=>({approved:"bg-green-100 text-green-600",pending:"bg-yellow-100 text-yellow-600",rejected:"bg-red-100 text-red-600"})[o]||"bg-gray-100 text-gray-600",A=o=>({approved:"已通过",pending:"待审核",rejected:"已拒绝"})[o]||"未知",q=o=>{alert(`查看题库：${o.name}`)},S=o=>{alert(`编辑题库：${o.name}`)},V=o=>{confirm(`确定通过题库"${o.name}"的审核吗？`)&&(o.status="approved",l.value.pendingBanks--)},T=o=>{confirm(`确定拒绝题库"${o.name}"吗？`)&&(o.status="rejected",l.value.pendingBanks--)},L=o=>{if(confirm(`确定删除题库"${o.name}"吗？此操作不可恢复！`)){const e=h.value.findIndex(s=>s.id===o.id);e>-1&&(h.value.splice(e,1),l.value.totalBanks--,o.type==="platform"?l.value.platformBanks--:l.value.userBanks--,o.status==="pending"&&l.value.pendingBanks--)}},M=n(!1);return(o,e)=>(u(),i("div",null,[t("div",U,[e[8]||(e[8]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-800"},"题库管理"),t("p",{class:"text-sm text-gray-500 mt-1"},"管理平台题库和用户上传的题库")],-1)),t("button",{onClick:e[0]||(e[0]=s=>M.value=!0),class:"px-4 py-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg hover:shadow-lg transition-shadow"},[...e[7]||(e[7]=[t("i",{class:"fas fa-plus mr-2"},null,-1),w("创建题库 ",-1)])])]),t("div",D,[t("div",P,[t("div",z,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-500"},"题库总数",-1)),t("p",F,a(l.value.totalBanks),1)]),e[10]||(e[10]=t("div",{class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-database text-blue-500 text-xl"})],-1))])]),t("div",I,[t("div",R,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm text-gray-500"},"平台题库",-1)),t("p",E,a(l.value.platformBanks),1)]),e[12]||(e[12]=t("div",{class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-shield-alt text-green-500 text-xl"})],-1))])]),t("div",H,[t("div",J,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm text-gray-500"},"用户题库",-1)),t("p",G,a(l.value.userBanks),1)]),e[14]||(e[14]=t("div",{class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-users text-purple-500 text-xl"})],-1))])]),t("div",K,[t("div",O,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm text-gray-500"},"待审核",-1)),t("p",W,a(l.value.pendingBanks),1)]),e[16]||(e[16]=t("div",{class:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-clock text-red-500 text-xl"})],-1))])]),t("div",X,[t("div",Y,[t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-500"},"题目总数",-1)),t("p",Z,a(l.value.totalQuestions),1)]),e[18]||(e[18]=t("div",{class:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-list-alt text-yellow-500 text-xl"})],-1))])])]),t("div",tt,[t("div",et,[t("div",st,[t("div",ot,[e[19]||(e[19]=t("i",{class:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),type:"text",placeholder:"搜索题库名称、作者...",class:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"},null,512),[[Q,p.value]])])]),v(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),class:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"},[...e[20]||(e[20]=[t("option",{value:""},"全部类型",-1),t("option",{value:"platform"},"平台题库",-1),t("option",{value:"user"},"用户题库",-1)])],512),[[b,c.value]]),v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>x.value=s),class:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"},[...e[21]||(e[21]=[t("option",{value:""},"全部分类",-1),t("option",{value:"国家"},"国家",-1),t("option",{value:"行业"},"行业",-1),t("option",{value:"个人"},"个人",-1)])],512),[[b,x.value]]),v(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>g.value=s),class:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"},[...e[22]||(e[22]=[t("option",{value:""},"全部状态",-1),t("option",{value:"approved"},"已通过",-1),t("option",{value:"pending"},"待审核",-1),t("option",{value:"rejected"},"已拒绝",-1)])],512),[[b,g.value]])])]),t("div",at,[t("table",lt,[e[28]||(e[28]=t("thead",{class:"bg-gray-50 border-b border-gray-200"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"题库信息"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"类型"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"分类"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"题目数"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"作者"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"状态"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"创建时间"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"操作")])],-1)),t("tbody",nt,[(u(!0),i(B,null,j(y.value,s=>(u(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",rt,[t("div",dt,[t("div",it,a(s.name.charAt(0)),1),t("div",ut,[t("div",pt,a(s.name),1),t("div",ct,"ID: "+a(s.id),1)])])]),t("td",xt,[t("span",{class:f(["px-2 py-1 text-xs rounded-full",s.type==="platform"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"])},[t("i",{class:f(["mr-1",s.type==="platform"?"fas fa-shield-alt":"fas fa-user"])},null,2),w(" "+a(s.type==="platform"?"平台":"用户"),1)],2)]),t("td",gt,[t("div",yt,a(s.mainCategory),1),t("div",vt,a(s.subCategory),1)]),t("td",ft,[t("span",mt,a(s.questionCount),1)]),t("td",ht,[t("div",bt,a(s.author),1)]),t("td",Ct,[t("span",{class:f(["px-2 py-1 text-xs rounded-full",$(s.status)])},a(A(s.status)),3)]),t("td",_t,a(s.createdAt),1),t("td",wt,[t("div",Bt,[t("button",{onClick:d=>q(s),class:"text-blue-500 hover:text-blue-700",title:"查看详情"},[...e[23]||(e[23]=[t("i",{class:"fas fa-eye"},null,-1)])],8,jt),t("button",{onClick:d=>S(s),class:"text-green-500 hover:text-green-700",title:"编辑"},[...e[24]||(e[24]=[t("i",{class:"fas fa-edit"},null,-1)])],8,kt),s.status==="pending"?(u(),i("button",{key:0,onClick:d=>V(s),class:"text-green-500 hover:text-green-700",title:"通过审核"},[...e[25]||(e[25]=[t("i",{class:"fas fa-check-circle"},null,-1)])],8,$t)):k("",!0),s.status==="pending"?(u(),i("button",{key:1,onClick:d=>T(s),class:"text-red-500 hover:text-red-700",title:"拒绝"},[...e[26]||(e[26]=[t("i",{class:"fas fa-times-circle"},null,-1)])],8,At)):k("",!0),t("button",{onClick:d=>L(s),class:"text-red-500 hover:text-red-700",title:"删除"},[...e[27]||(e[27]=[t("i",{class:"fas fa-trash"},null,-1)])],8,qt)])])]))),128))])])]),t("div",St,[t("div",Vt," 显示 "+a((r.value-1)*m.value+1)+" - "+a(Math.min(r.value*m.value,y.value.length))+" 条，共 "+a(y.value.length)+" 条 ",1),t("div",Tt,[t("button",{onClick:e[5]||(e[5]=s=>r.value--),disabled:r.value===1,class:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," 上一页 ",8,Lt),(u(!0),i(B,null,j(C.value,s=>(u(),i("button",{key:s,onClick:d=>r.value=s,class:f(["px-3 py-1 border rounded",r.value===s?"bg-red-500 text-white border-red-500":"border-gray-300 hover:bg-gray-50"])},a(s),11,Mt))),128)),t("button",{onClick:e[6]||(e[6]=s=>r.value++),disabled:r.value===C.value,class:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," 下一页 ",8,Nt)])])]))}};export{Dt as default};
