import{_ as v}from"./StatCard-CvEgBwlY.js";import{f as d,c as U,o as b,a,b as t,w as s,r as o,e as i,n as x,t as n,h as I,g as z}from"./index-CCKlj0LT.js";const M={class:"grid grid-cols-4 gap-4 mb-6"},Q={class:"bg-white rounded-xl shadow-sm"},q={class:"p-4 flex items-center justify-between"},A={class:"flex items-center gap-4"},G={class:"flex items-start"},J={class:"font-medium text-sm"},K={class:"text-xs text-gray-500 mt-1 line-clamp-2"},L={class:"text-xs text-gray-400 mt-1"},P={class:"flex items-center"},R=["src"],W={class:"ml-2"},Y={class:"text-sm"},Z={class:"text-xs text-gray-400"},ee={class:"flex items-center text-sm"},te={class:"p-4 flex items-center justify-between border-t border-gray-100"},le={key:0,class:"mb-4 p-4 bg-red-50 rounded-lg"},ae={class:"font-medium text-red-600"},se={class:"text-sm text-gray-600 mt-2"},oe={class:"text-sm text-gray-500 mt-2"},ne={class:"ml-4"},me={__name:"Emergency",setup(ie){const y=d("all"),h=d(""),V=d(""),w=d(""),c=d(!1),m=d(null),N={pending:"待处理",processing:"处理中",resolved:"已解决"},p=d({method:"contact",note:""}),$=d([{id:"E10001",title:"老人走失急寻",description:"我父亲今天下午2点从家里出门后一直没有回来，患有轻度老年痴呆，穿着蓝色外套...",author:"李明",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=e1",phone:"138****5678",location:"北京市朝阳区",urgency:"urgent",status:"pending",time:"10分钟前"},{id:"E10002",title:"宠物猫走丢",description:"橘猫，3岁，名叫咪咪，今天早上从窗户跑出去了，附近有看到的请联系我...",author:"王小红",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=e2",phone:"139****1234",location:"上海市浦东新区",urgency:"normal",status:"processing",time:"2小时前"},{id:"E10003",title:"急需O型血",description:"家人手术急需O型血，医院血库告急，希望有爱心人士能够帮助...",author:"张伟",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=e3",phone:"137****9876",location:"广州市天河区",urgency:"urgent",status:"pending",time:"30分钟前"},{id:"E10004",title:"寻找目击证人",description:"1月10日下午3点在XX路口发生交通事故，寻找当时的目击证人...",author:"刘强",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=e4",phone:"136****5432",location:"深圳市南山区",urgency:"normal",status:"resolved",time:"3天前"}]),j=k=>{m.value=k,c.value=!0},F=()=>{c.value=!1};return(k,e)=>{const g=o("el-tab-pane"),T=o("el-tabs"),C=o("el-input"),f=o("el-option"),B=o("el-select"),u=o("el-button"),r=o("el-table-column"),D=o("el-table"),H=o("el-pagination"),_=o("el-radio"),O=o("el-radio-group"),E=o("el-form-item"),S=o("el-form"),X=o("el-dialog");return b(),U("div",null,[a("div",M,[t(v,{title:"紧急求助总数",value:"568",icon:"fas fa-exclamation-triangle",iconBg:"bg-red-100",iconColor:"text-red-500"}),t(v,{title:"待处理",value:"23",valueClass:"text-red-500",icon:"fas fa-clock",iconBg:"bg-yellow-100",iconColor:"text-yellow-500"}),t(v,{title:"处理中",value:"15",valueClass:"text-blue-500",icon:"fas fa-spinner",iconBg:"bg-blue-100",iconColor:"text-blue-500"}),t(v,{title:"已解决",value:"530",valueClass:"text-green-500",icon:"fas fa-check-circle",iconBg:"bg-green-100",iconColor:"text-green-500"})]),a("div",Q,[t(T,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=l=>y.value=l),class:"px-4"},{default:s(()=>[t(g,{label:"全部",name:"all"}),t(g,{label:"待处理 (23)",name:"pending"}),t(g,{label:"处理中 (15)",name:"processing"}),t(g,{label:"已解决",name:"resolved"})]),_:1},8,["modelValue"]),a("div",q,[a("div",A,[t(C,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=l=>h.value=l),placeholder:"搜索求助标题、用户","prefix-icon":"Search",style:{width:"250px"}},null,8,["modelValue"]),t(B,{modelValue:V.value,"onUpdate:modelValue":e[2]||(e[2]=l=>V.value=l),placeholder:"紧急程度",clearable:""},{default:s(()=>[t(f,{label:"紧急",value:"urgent"}),t(f,{label:"一般",value:"normal"})]),_:1},8,["modelValue"]),t(B,{modelValue:w.value,"onUpdate:modelValue":e[3]||(e[3]=l=>w.value=l),placeholder:"地区",clearable:""},{default:s(()=>[t(f,{label:"北京",value:"beijing"}),t(f,{label:"上海",value:"shanghai"}),t(f,{label:"广州",value:"guangzhou"})]),_:1},8,["modelValue"])]),t(u,{type:"default"},{default:s(()=>[...e[8]||(e[8]=[a("i",{class:"fas fa-download mr-2"},null,-1),i("导出",-1)])]),_:1})]),t(D,{data:$.value,style:{width:"100%"}},{default:s(()=>[t(r,{type:"selection",width:"55"}),t(r,{label:"求助信息","min-width":"300"},{default:s(({row:l})=>[a("div",G,[a("div",{class:x(["w-2 h-2 rounded-full mt-2 mr-3",l.urgency==="urgent"?"bg-red-500 animate-pulse":"bg-yellow-500"])},null,2),a("div",null,[a("div",J,n(l.title),1),a("div",K,n(l.description),1),a("div",L,"ID: "+n(l.id)+" · "+n(l.time),1)])])]),_:1}),t(r,{label:"求助人",width:"150"},{default:s(({row:l})=>[a("div",P,[a("img",{src:l.avatar,class:"w-8 h-8 rounded-full"},null,8,R),a("div",W,[a("div",Y,n(l.author),1),a("div",Z,n(l.phone),1)])])]),_:1}),t(r,{label:"位置",width:"150"},{default:s(({row:l})=>[a("div",ee,[e[9]||(e[9]=a("i",{class:"fas fa-map-marker-alt text-red-500 mr-1"},null,-1)),i(" "+n(l.location),1)])]),_:1}),t(r,{label:"紧急程度",width:"100"},{default:s(({row:l})=>[a("span",{class:x(["px-2 py-1 text-xs rounded-full",l.urgency==="urgent"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"])},n(l.urgency==="urgent"?"紧急":"一般"),3)]),_:1}),t(r,{label:"状态",width:"100"},{default:s(({row:l})=>[a("span",{class:x(["status-badge",`status-${l.status}`])},n(N[l.status]),3)]),_:1}),t(r,{label:"操作",width:"180"},{default:s(({row:l})=>[l.status==="pending"?(b(),I(u,{key:0,link:"",type:"primary",size:"small",onClick:de=>j(l)},{default:s(()=>[...e[10]||(e[10]=[a("i",{class:"fas fa-hand-holding-heart mr-1"},null,-1),i("处理 ",-1)])]),_:1},8,["onClick"])):z("",!0),t(u,{link:"",type:"success",size:"small"},{default:s(()=>[...e[11]||(e[11]=[a("i",{class:"fas fa-eye"},null,-1)])]),_:1}),t(u,{link:"",type:"warning",size:"small"},{default:s(()=>[...e[12]||(e[12]=[a("i",{class:"fas fa-phone"},null,-1)])]),_:1}),t(u,{link:"",type:"danger",size:"small"},{default:s(()=>[...e[13]||(e[13]=[a("i",{class:"fas fa-trash"},null,-1)])]),_:1})]),_:1})]),_:1},8,["data"]),a("div",te,[e[14]||(e[14]=a("span",{class:"text-sm text-gray-500"},"共 568 条记录",-1)),t(H,{layout:"prev, pager, next",total:500})])]),t(X,{modelValue:c.value,"onUpdate:modelValue":e[7]||(e[7]=l=>c.value=l),title:"处理紧急求助",width:"500px"},{footer:s(()=>[t(u,{onClick:e[6]||(e[6]=l=>c.value=!1)},{default:s(()=>[...e[20]||(e[20]=[i("取消",-1)])]),_:1}),t(u,{type:"primary",onClick:F},{default:s(()=>[...e[21]||(e[21]=[i("确认处理",-1)])]),_:1})]),default:s(()=>[m.value?(b(),U("div",le,[a("div",ae,n(m.value.title),1),a("div",se,n(m.value.description),1),a("div",oe,[e[16]||(e[16]=a("i",{class:"fas fa-map-marker-alt mr-1"},null,-1)),i(n(m.value.location)+" ",1),a("span",ne,[e[15]||(e[15]=a("i",{class:"fas fa-phone mr-1"},null,-1)),i(n(m.value.phone),1)])])])):z("",!0),t(S,{model:p.value,"label-width":"100px"},{default:s(()=>[t(E,{label:"处理方式"},{default:s(()=>[t(O,{modelValue:p.value.method,"onUpdate:modelValue":e[4]||(e[4]=l=>p.value.method=l)},{default:s(()=>[t(_,{label:"contact"},{default:s(()=>[...e[17]||(e[17]=[i("联系求助人",-1)])]),_:1}),t(_,{label:"dispatch"},{default:s(()=>[...e[18]||(e[18]=[i("派遣人员",-1)])]),_:1}),t(_,{label:"transfer"},{default:s(()=>[...e[19]||(e[19]=[i("转交相关部门",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(E,{label:"处理备注"},{default:s(()=>[t(C,{modelValue:p.value.note,"onUpdate:modelValue":e[5]||(e[5]=l=>p.value.note=l),type:"textarea",rows:3,placeholder:"请输入处理备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{me as default};
