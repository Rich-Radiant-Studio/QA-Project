# 认证弹窗 UI 设计方案

## 设计理念

### 核心原则
1. **分步引导** - 先选择认证类型，再填写对应信息
2. **视觉层次** - 清晰的标题、分组、表单结构
3. **信息提示** - 每个字段都有说明，降低用户困惑
4. **进度反馈** - 显示当前步骤和完成进度
5. **错误处理** - 实时验证，友好的错误提示

---

## 整体流程设计

### 第一步：选择认证类型
```
┌─────────────────────────────────────┐
│  ✕                身份认证           │
├─────────────────────────────────────┤
│                                     │
│  请选择您的认证类型                  │
│                                     │
│  ┌───────────────────────────────┐ │
│  │  👤  个人认证                  │ │
│  │  验证个人身份，获得个人认证标识  │ │
│  │                          →    │ │
│  └───────────────────────────────┘ │
│                                     │
│  ┌───────────────────────────────┐ │
│  │  🏢  企业认证                  │ │
│  │  验证企业资质，获得企业认证标识  │ │
│  │                          →    │ │
│  └───────────────────────────────┘ │
│                                     │
│  ┌───────────────────────────────┐ │
│  │  🏛️  政府机构认证              │ │
│  │  验证政府身份，获得官方认证标识  │ │
│  │                          →    │ │
│  └───────────────────────────────┘ │
│                                     │
└─────────────────────────────────────┘
```

---

## 第二步：填写认证信息

### 方案 A：全屏表单（推荐）⭐⭐⭐⭐⭐

**优点：**
- 空间充足，字段清晰
- 滚动流畅，体验好
- 适合移动端操作

**布局结构：**

#### 1. 个人认证表单

```
┌─────────────────────────────────────┐
│  ←  个人认证                    提交 │
├─────────────────────────────────────┤
│  ● ─ ─ ─                            │  ← 进度条
│  1/2 填写基本信息                    │
├─────────────────────────────────────┤
│                                     │
│  📋 基本信息                         │
│  ─────────────────────────────────  │
│                                     │
│  真实姓名 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入您的真实姓名            │   │
│  └─────────────────────────────┘   │
│                                     │
│  证件类型 *                          │
│  ┌─────────────────────────────┐   │
│  │ 身份证              ▼        │   │
│  └─────────────────────────────┘   │
│  💡 请选择您要使用的证件类型         │
│                                     │
│  证件号码 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入证件号码                │   │
│  └─────────────────────────────┘   │
│                                     │
│  📸 上传证件照片                     │
│  ─────────────────────────────────  │
│                                     │
│  证件正面 *                          │
│  ┌─────┐ ┌─────┐                   │
│  │ 📷  │ │     │                   │
│  │上传 │ │预览 │                   │
│  └─────┘ └─────┘                   │
│  💡 请上传清晰的证件正面照片         │
│                                     │
│  证件反面 *                          │
│  ┌─────┐ ┌─────┐                   │
│  │ 📷  │ │     │                   │
│  │上传 │ │预览 │                   │
│  └─────┘ └─────┘                   │
│                                     │
│  手持证件照 *                        │
│  ┌─────┐ ┌─────┐                   │
│  │ 📷  │ │     │                   │
│  │上传 │ │预览 │                   │
│  └─────┘ └─────┘                   │
│  💡 请手持证件拍摄清晰照片           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │        下一步：确认信息       │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

#### 2. 企业认证表单

```
┌─────────────────────────────────────┐
│  ←  企业认证                    提交 │
├─────────────────────────────────────┤
│  ● ─ ─ ─                            │
│  1/2 填写企业信息                    │
├─────────────────────────────────────┤
│                                     │
│  🏢 企业基本信息                     │
│  ─────────────────────────────────  │
│                                     │
│  企业名称 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入企业全称                │   │
│  └─────────────────────────────┘   │
│  💡 请填写营业执照上的完整企业名称   │
│                                     │
│  统一社会信用代码 *                  │
│  ┌─────────────────────────────┐   │
│  │ 请输入18位统一社会信用代码    │   │
│  └─────────────────────────────┘   │
│                                     │
│  企业注册号                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入企业注册号（选填）      │   │
│  └─────────────────────────────┘   │
│                                     │
│  纳税人识别号                        │
│  ┌─────────────────────────────┐   │
│  │ 请输入纳税人识别号（选填）    │   │
│  └─────────────────────────────┘   │
│                                     │
│  企业地址 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入企业注册地址            │   │
│  └─────────────────────────────┘   │
│                                     │
│  📸 上传企业证件                     │
│  ─────────────────────────────────  │
│                                     │
│  营业执照 *                          │
│  ┌─────┐ ┌─────┐                   │
│  │ 📷  │ │     │                   │
│  │上传 │ │预览 │                   │
│  └─────┘ └─────┘                   │
│  💡 请上传清晰的营业执照照片         │
│                                     │
│  👤 法人信息                         │
│  ─────────────────────────────────  │
│                                     │
│  法人姓名 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入法人姓名                │   │
│  └─────────────────────────────┘   │
│                                     │
│  法人身份证号 *                      │
│  ┌─────────────────────────────┐   │
│  │ 请输入法人身份证号            │   │
│  └─────────────────────────────┘   │
│                                     │
│  联系电话 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入企业联系电话            │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │        下一步：确认信息       │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

#### 3. 政府机构认证表单

```
┌─────────────────────────────────────┐
│  ←  政府机构认证                提交 │
├─────────────────────────────────────┤
│  ● ─ ─ ─                            │
│  1/2 填写机构信息                    │
├─────────────────────────────────────┤
│                                     │
│  🏛️ 机构基本信息                    │
│  ─────────────────────────────────  │
│                                     │
│  机构名称 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入政府机构全称            │   │
│  └─────────────────────────────┘   │
│  💡 请填写官方完整机构名称           │
│                                     │
│  机构统一社会信用代码 *              │
│  ┌─────────────────────────────┐   │
│  │ 请输入机构统一社会信用代码    │   │
│  └─────────────────────────────┘   │
│                                     │
│  机构类型 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请选择机构类型        ▼      │   │
│  └─────────────────────────────┘   │
│  💡 如：政府部门、事业单位等         │
│                                     │
│  所属部门 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入所属部门名称            │   │
│  └─────────────────────────────┘   │
│                                     │
│  机构地址 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入机构办公地址            │   │
│  └─────────────────────────────┘   │
│                                     │
│  📸 上传官方文件                     │
│  ─────────────────────────────────  │
│                                     │
│  机构证明文件 *                      │
│  ┌─────┐ ┌─────┐                   │
│  │ 📷  │ │     │                   │
│  │上传 │ │预览 │                   │
│  └─────┘ └─────┘                   │
│  💡 如：组织机构代码证、事业单位法人证书 │
│                                     │
│  授权委托书 *                        │
│  ┌─────┐ ┌─────┐                   │
│  │ 📷  │ │     │                   │
│  │上传 │ │预览 │                   │
│  └─────┘ └─────┘                   │
│  💡 需加盖公章的授权委托书           │
│                                     │
│  👤 授权人信息                       │
│  ─────────────────────────────────  │
│                                     │
│  授权人姓名 *                        │
│  ┌─────────────────────────────┐   │
│  │ 请输入授权人姓名              │   │
│  └─────────────────────────────┘   │
│                                     │
│  授权人职位 *                        │
│  ┌─────────────────────────────┐   │
│  │ 请输入授权人职位              │   │
│  └─────────────────────────────┘   │
│                                     │
│  授权人身份证号 *                    │
│  ┌─────────────────────────────┐   │
│  │ 请输入授权人身份证号          │   │
│  └─────────────────────────────┘   │
│                                     │
│  联系电话 *                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入联系电话                │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │        下一步：确认信息       │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

## 第三步：确认信息

```
┌─────────────────────────────────────┐
│  ←  确认信息                    提交 │
├─────────────────────────────────────┤
│  ─ ● ─ ─                            │
│  2/2 确认并提交                      │
├─────────────────────────────────────┤
│                                     │
│  📋 请仔细核对以下信息               │
│  ─────────────────────────────────  │
│                                     │
│  真实姓名                            │
│  张三                          [编辑]│
│                                     │
│  证件类型                            │
│  身份证                        [编辑]│
│                                     │
│  证件号码                            │
│  110101199001011234           [编辑]│
│                                     │
│  已上传照片                          │
│  ┌───┐ ┌───┐ ┌───┐                 │
│  │正面│ │反面│ │手持│          [编辑]│
│  └───┘ └───┘ └───┘                 │
│                                     │
│  ⚠️ 重要提示                         │
│  ─────────────────────────────────  │
│  • 请确保所有信息真实有效            │
│  • 提交后将进入人工审核流程          │
│  • 审核时间约1-3个工作日             │
│  • 审核结果将通过站内信通知          │
│                                     │
│  ☑️ 我已阅读并同意《认证服务协议》   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │          提交认证申请         │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

## 设计细节

### 1. 颜色方案

```
主色调：
- 个人认证：黄色 #f59e0b
- 企业认证：蓝色 #3b82f6
- 政府认证：红色 #ef4444

辅助色：
- 背景：#f9fafb
- 边框：#e5e7eb
- 文字主色：#1f2937
- 文字辅色：#6b7280
- 提示文字：#9ca3af
- 成功：#22c55e
- 警告：#f59e0b
- 错误：#ef4444
```

### 2. 字体规范

```
标题：18px / Bold / #1f2937
副标题：16px / SemiBold / #374151
正文：14px / Regular / #6b7280
提示：12px / Regular / #9ca3af
按钮：15px / SemiBold / #fff
```

### 3. 间距规范

```
页面边距：16px
分组间距：24px
字段间距：16px
标签与输入框：8px
提示文字：4px
```

### 4. 输入框规范

```
高度：48px
圆角：8px
边框：1px solid #e5e7eb
聚焦边框：2px solid #3b82f6
背景：#f9fafb
内边距：12px
```

### 5. 按钮规范

```
主按钮：
- 高度：48px
- 圆角：8px
- 背景：对应认证类型颜色
- 文字：白色 / 15px / SemiBold

次按钮：
- 高度：44px
- 圆角：8px
- 背景：白色
- 边框：1px solid #e5e7eb
- 文字：#6b7280
```

### 6. 图片上传组件

```
┌─────────────────┐
│                 │
│    📷 上传      │  ← 未上传状态
│   点击选择图片   │
│                 │
└─────────────────┘
尺寸：120x120px
边框：2px dashed #d1d5db

┌─────────────────┐
│      [图片]     │  ← 已上传状态
│                 │
│  ✕  [查看大图]  │
└─────────────────┘
```

---

## 交互设计

### 1. 表单验证

**实时验证：**
- 失去焦点时验证
- 显示错误提示在输入框下方
- 错误状态：红色边框 + 错误图标

**提交验证：**
- 检查所有必填项
- 滚动到第一个错误字段
- 震动提示

### 2. 图片上传

**上传流程：**
1. 点击上传区域
2. 选择图片来源（相册/相机）
3. 裁剪图片（可选）
4. 显示上传进度
5. 上传成功显示预览

**图片要求：**
- 格式：JPG、PNG
- 大小：< 5MB
- 尺寸：建议 > 800x600px

### 3. 进度指示

```
步骤1：填写信息  ●─────
步骤2：确认信息  ─●────
步骤3：等待审核  ──●───
步骤4：审核完成  ───●──
```

### 4. 错误处理

```
┌─────────────────────────────┐
│  ⚠️ 提交失败                 │
│                             │
│  请检查以下问题：            │
│  • 证件号码格式不正确        │
│  • 请上传证件正面照片        │
│                             │
│  [重新检查]  [联系客服]     │
└─────────────────────────────┘
```

---

## 技术实现要点

### 1. 组件结构

```javascript
<Modal visible={showVerificationModal}>
  <SafeAreaView>
    {/* 头部 */}
    <Header 
      title={currentStep === 0 ? '身份认证' : `${verificationType}认证`}
      onBack={handleBack}
      onClose={handleClose}
    />
    
    {/* 进度条 */}
    {currentStep > 0 && (
      <ProgressBar current={currentStep} total={2} />
    )}
    
    {/* 内容区域 */}
    <ScrollView>
      {currentStep === 0 && <TypeSelector />}
      {currentStep === 1 && <FormContent />}
      {currentStep === 2 && <ConfirmContent />}
    </ScrollView>
    
    {/* 底部按钮 */}
    <Footer>
      <Button onPress={handleNext}>
        {currentStep === 2 ? '提交认证申请' : '下一步'}
      </Button>
    </Footer>
  </SafeAreaView>
</Modal>
```

### 2. 表单状态管理

```javascript
const [verificationData, setVerificationData] = useState({
  type: '', // 'personal' | 'enterprise' | 'government'
  personal: {
    name: '',
    idType: 'idCard',
    idNumber: '',
    idFront: null,
    idBack: null,
    idHold: null,
  },
  enterprise: {
    name: '',
    creditCode: '',
    registrationNumber: '',
    taxNumber: '',
    address: '',
    license: null,
    legalName: '',
    legalIdNumber: '',
    phone: '',
  },
  government: {
    name: '',
    creditCode: '',
    type: '',
    department: '',
    address: '',
    certificate: null,
    authorization: null,
    authorizerName: '',
    authorizerPosition: '',
    authorizerIdNumber: '',
    phone: '',
  },
});
```

### 3. 图片上传处理

```javascript
const handleImageUpload = async (field) => {
  try {
    // 1. 选择图片
    const result = await ImagePicker.launchImageLibraryAsync({
      mediaTypes: ImagePicker.MediaTypeOptions.Images,
      allowsEditing: true,
      aspect: [4, 3],
      quality: 0.8,
    });
    
    if (!result.canceled) {
      // 2. 压缩图片
      const compressed = await compressImage(result.assets[0].uri);
      
      // 3. 上传到服务器
      const uploaded = await uploadImage(compressed);
      
      // 4. 更新状态
      setVerificationData({
        ...verificationData,
        [verificationType]: {
          ...verificationData[verificationType],
          [field]: uploaded.url,
        },
      });
    }
  } catch (error) {
    Alert.alert('上传失败', error.message);
  }
};
```

---

## 用户体验优化

### 1. 智能填充
- 识别证件号码自动填充性别、出生日期
- 企业名称联想搜索
- 地址自动补全

### 2. 拍照指引
```
┌─────────────────────────────┐
│  📸 拍摄指引                 │
│                             │
│  请确保：                    │
│  ✓ 证件边框完整              │
│  ✓ 文字清晰可见              │
│  ✓ 光线充足无反光            │
│  ✓ 无遮挡无污损              │
│                             │
│  [查看示例]  [开始拍摄]     │
└─────────────────────────────┘
```

### 3. 保存草稿
- 自动保存填写内容
- 下次打开恢复数据
- 避免重复填写

### 4. 客服支持
- 右上角客服按钮
- 常见问题解答
- 在线客服咨询

---

## 总结

这个设计方案的优势：

✅ **清晰的流程** - 分步引导，降低认知负担  
✅ **友好的提示** - 每个字段都有说明和示例  
✅ **专业的视觉** - 符合认证场景的严肃感  
✅ **完善的反馈** - 实时验证，错误提示明确  
✅ **移动端优化** - 适配小屏幕，操作便捷  
✅ **可扩展性** - 易于添加新的认证类型

这个方案既保证了专业性，又兼顾了用户体验，是一个成熟的认证系统设计。
