# 🎭 模拟生产环境模式已开启

## ✅ 当前状态

### 模拟生产环境：已开启
```javascript
// src/config/debugMode.js
export const SIMULATE_PRODUCTION = true;
```

### 开发服务器：运行中
- 模式：Development Client + Tunnel
- 状态：✅ 运行中

## 📱 访问链接

### Tunnel URL（移动设备）
```
https://ehj49hs-standardinvestment-8081.exp.direct
```

### 完整链接
```
exp+qa-native-app://expo-development-client/?url=https%3A%2F%2Fehj49hs-standardinvestment-8081.exp.direct
```

### 本地 Web
```
http://localhost:8081
```

## 🎯 现在的行为

你的应用现在会：
- ✅ 使用生产环境的 API 配置
- ✅ 使用生产环境的逻辑
- ✅ 但仍然支持热更新
- ✅ 可以看到完整的日志
- ✅ 可以使用调试工具

## 🔄 如何使用

### 1. 在手机上重新加载应用
- 扫描上方的 QR 码，或
- 在已打开的应用中摇一摇 → 选择 "Reload"

### 2. 查看启动日志
应该会看到：
```
🎭 使用生产环境配置（模拟模式）
```

### 3. 测试头像上传
- 进入设置页面
- 点击头像
- 选择拍照或从相册选择
- 观察上传过程和结果

### 4. 修改代码后
- 保存文件
- 在开发服务器按 `r` 键，或
- 在手机上摇一摇 → Reload
- 立即看到效果！

## 📊 测试清单

### 头像上传测试
- [ ] 从相册选择图片
- [ ] 拍照上传
- [ ] 上传成功后头像是否更新
- [ ] 网络错误时的提示
- [ ] 文件过大时的提示
- [ ] 格式不支持时的提示

### 其他功能测试
- [ ] 登录功能
- [ ] 自动注册
- [ ] Token 过期处理
- [ ] 网络请求

## 🔧 调试技巧

### 查看日志
所有 console.log 都会显示在：
- 开发服务器终端
- 手机上的调试工具

### 关键日志标识
```
🎭 - 模拟生产环境相关
🔧 - 头像上传相关
📤 - API 请求
📥 - API 响应
✅ - 成功
❌ - 失败
```

### 如果遇到问题
1. 检查日志中的错误信息
2. 修改代码
3. 按 `r` 重新加载
4. 继续测试

## ⚠️ 注意事项

### 与真实生产版本的差异
- `__DEV__` 仍然是 `true`
- 代码未压缩优化
- 性能可能略慢

### 但这些不影响功能测试
- 业务逻辑完全一致
- API 调用完全一致
- 用户体验完全一致

## 🎉 测试完成后

### 1. 关闭模拟生产环境
编辑 `src/config/debugMode.js`：
```javascript
export const SIMULATE_PRODUCTION = false;
```

### 2. 重新加载应用
按 `r` 键或摇一摇 → Reload

### 3. 构建生产版本（可选）
如果测试通过，可以构建真实的生产版本验证：
```bash
eas build --profile production --platform android
```

## 📝 开发服务器命令

在终端中可以使用：
- `r` - 重新加载应用
- `a` - 在 Android 上打开
- `j` - 打开调试器
- `m` - 切换菜单
- `Ctrl+C` - 停止服务器

## 🚀 快速开始

1. 在手机上扫描 QR 码
2. 应用会自动重新加载
3. 查看日志确认模拟模式已开启
4. 开始测试头像上传功能！

---

**当前时间**: 已启动
**服务器状态**: ✅ 运行中
**模拟模式**: ✅ 已开启
